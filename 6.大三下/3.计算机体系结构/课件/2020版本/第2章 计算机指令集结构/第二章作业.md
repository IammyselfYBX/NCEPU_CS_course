# 第2章指令集结构的分类
## 2.1解释下列术语
堆栈型机器：CPU中存储操作数的单元是堆栈的机器。

累加器型机器：CPU中存储操作数的单元是累加器的机器。

通用寄存器型机器：CPU中存储操作数的单元是通用寄存器的机器。

CISC：复杂指令集计算机

RISC：精简指令集计算机

寻址方式：指令系统中如何形成所要访问的数据的地址。一般来说，寻址方式可以指明指令中的操作数是一个常数、一个寄存器操作数或者是一个存储器操作数。

数据表示：硬件结构能够识别、指令系统可以直接调用的那些数据结构。

## 2.2区别不同指令集结构的主要因素是什么？根据这个主要因素可将指令集结构分为哪3类？
区别不同指令集结构的主要因素是CPU中用来存储操作数的存储单元。据此可将指令系统结构分为堆栈结构、累加器结构和通用寄存器结构。

## 2.3常见的3种通用寄存器型指令集结构的优缺点有哪些？
指令系统结构类型|优点|缺点
:-:|:-:|:-:
寄存器-寄存器型<br>(0, 3)|指令字长固定，指令结构简洁，是一种简单的代码生成模型，各种指令的执行时钟周期数相近。|与指令中含存储器操作数的指令系统结构相比，指令条数多，目标代码不够紧凑，因而程序占用的空间比较大。
寄存器-存储器型<br>(1, 2)|可以在ALU指令中直接对存储器操作数进行引用，而不必先用load指令进行加载。容易对指令进行编码，目标代码比较紧凑。|由于有一个操作数的内容将被破坏，所以指令中的两个操作数不对称。在一条指令中同时对寄存器操作数和存储器操作数进行编码，有可能限制指令所能够表示的寄存器个数。指令的执行时钟周期数因操作数的来源（寄存器或存储器）不同而差别比较大。
寄存器-存储器型<br>(2, 2)或(3, 3)|目标代码最紧凑，不需要设置寄存器来保存变量。|指令字长变化很大，特别是3操作数指令。而且每条指令完成的工作也差别很大。对存储器的频繁访问会使存储器成为瓶颈。这种类型的指令系统现在已不用了。

## 2.4指令集应满足哪几个基本要求？
对指令集的基本要求是：完整性、规整性、高效率和兼容性。

完整性是指在一个有限可用的存储空间内，对于任何可解的问题，编制计算程序时，指令集所提供的指令足够使用。

规整性主要包括对称性和均匀性。对称性是指所有与指令集有关的存储单元的使用、操作码的设置等都是对称的。均匀性是指对于各种不同的操作数类型、字长、操作种类和数据存储单元，指令的设置都要同等对待。

高效率是指指令的执行速度快、使用频度高。

## 2.5指令集结构设计所涉及的内容有哪些？
（1）指令集功能设计：主要有RISC和CISC两种技术发展方向；

（2）寻址方式的设计：设置寻址方式可以通过对基准程序进行测试统计，察看各种寻址方式的使用频率，根据适用频率设置必要的寻址方式。

（3）操作数表示和操作数类型：主要的操作数类型和操作数表示的选择有：浮点数据类型、整型数据类型、字符型、十进制数据类型等等。

（4）寻址方式的表示：可以将寻址方式编码于操作码中，也可以将寻址方式作为一个单独的域来表示。

（5）指令集格式的设计：有变长编码格式、固定长度编码格式和混合型编码格式3种。

## 2.6简述CISC指令集结构功能设计的主要目标。从当前的计算机技术观点来看，CISC指令集结构的计算机有什么缺点？
主要目标是增强指令功能，把越来越多的功能交由硬件来实现，并且指令的数量也是越来越多。

缺点：
- （1）CISC结构的指令集中，各种指令的使用频率相差悬殊。
- （2）CISC结构指令的复杂性带来了计算机体系结构的复杂性，这不仅增加了研制时间和成本，而且还容易造成设计错误。
- （3）CISC结构指令集的复杂性给VLSI设计增加了很大负担，不利于单片集成。
- （4）CISC结构的指令集中，许多复杂指令需要很复杂的操作，因而运行速度慢。
- （5）在CISC结构的指令集中，由于各条指令的功能不均衡性，不利于采用先进的计算机体系结构技术（如流水技术）来提高系统的性能。

## 2.7简述RISC指令集结构的设计原则。
- （1）选取使用频率最高的指令，并补充一些最有用的指令；
- （2）每条指令的功能应尽可能简单，并在一个机器周期内完成；
- （3）所有指令长度均相同；
- （4）只有Load和Store操作指令才访问存储器，其它指令操作均在寄存器之间进行；
- （5）以简单有效的方式支持高级语言。

## 2.8指令中表示操作数类型的方法有哪几种？
操作数类型有两种表示方法：
- （1）操作数的类型由操作码的编码指定，这是最常见的一种方法；
- （2）数据可以附上由硬件解释的标记，由这些标记指定操作数的类型，从而选择适当的运算。

## 2.9表示寻址方式的主要方法有哪些？简述这些方法的优缺点。
表示寻址方式有两种常用的方法：
- （1）将寻址方式编于操作码中，由操作码在描述指令的同时也描述了相应的寻址方式。这种方式译码快，但操作码和寻址方式的结合不仅增加了指令的条数，导致了指令的多样性，而且增加了CPU对指令译码的难度。
- （2）为每个操作数设置一个地址描述符，由该地址描述符表示相应操作数的寻址方式。这种方式译码较慢，但操作码和寻址独立，易于指令扩展。


## 2.10通常有哪几种指令格式，请简述其适用范围。
（1）变长编码格式。如果系统结构设计者感兴趣的是程序的目标代码大小，而不是性能，就可以采用变长编码格式。

（2）固定长度编码格式。如果感兴趣的是性能，而不是程序的目标代码大小，则可以选择固定长度编码格式。

（3）混合型编码格式。需要兼顾降低目标代码长度和降低译码复杂度时，可以采用混合型编码格式。

## 2.11根据CPU性能公式简述RISC指令集结构计算机和CISC指令集结构计算机的性能特点。
CPU性能公式： $CPU时间=IC×CPI×T$
> 其中，IC为目标程序被执行的指令条数，CPI为指令平均执行周期数，T是时钟周期的时间。

相同功能的CISC目标程序的指令条数$IC_{CISC}$少于RISC的$IC_{RISC}$，但是CISC的$CPI_{CISC}$和$T_{CISC}$都大于RISC的$CPI_{RISC}$和$T_{RISC}$，因此，CISC目标程序的执行时间比RISC的更长。

















